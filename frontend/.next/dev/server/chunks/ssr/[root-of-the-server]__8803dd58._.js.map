{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharushakulasinghe/Documents/FYP/Implementation/RAG%20Agent/frontend/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\n\nimport {\n  CircleCheckIcon,\n  InfoIcon,\n  Loader2Icon,\n  OctagonXIcon,\n  TriangleAlertIcon,\n} from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner, type ToasterProps } from \"sonner\"\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      icons={{\n        success: <CircleCheckIcon className=\"size-4\" />,\n        info: <InfoIcon className=\"size-4\" />,\n        warning: <TriangleAlertIcon className=\"size-4\" />,\n        error: <OctagonXIcon className=\"size-4\" />,\n        loading: <Loader2Icon className=\"size-4 animate-spin\" />,\n      }}\n      style={\n        {\n          \"--normal-bg\": \"var(--popover)\",\n          \"--normal-text\": \"var(--popover-foreground)\",\n          \"--normal-border\": \"var(--border)\",\n          \"--border-radius\": \"var(--radius)\",\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAVA;;;;;AAYA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,4NAAQ;IAErC,qBACE,8SAAC,mNAAM;QACL,OAAO;QACP,WAAU;QACV,OAAO;YACL,uBAAS,8SAAC,2SAAe;gBAAC,WAAU;;;;;;YACpC,oBAAM,8SAAC,kRAAQ;gBAAC,WAAU;;;;;;YAC1B,uBAAS,8SAAC,iTAAiB;gBAAC,WAAU;;;;;;YACtC,qBAAO,8SAAC,kSAAY;gBAAC,WAAU;;;;;;YAC/B,uBAAS,8SAAC,oSAAW;gBAAC,WAAU;;;;;;QAClC;QACA,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;YACnB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/tharushakulasinghe/Documents/FYP/Implementation/RAG%20Agent/frontend/context/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface User {\n    id: string;\n    email: string;\n    full_name?: string;\n}\n\ninterface AuthContextType {\n    user: User | null;\n    token: string | null;\n    login: (token: string) => void;\n    logout: () => void;\n    isLoading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n    const [user, setUser] = useState<User | null>(null);\n    const [token, setToken] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const router = useRouter();\n\n    // Load token on mount\n    useEffect(() => {\n        const storedToken = localStorage.getItem(\"access_token\");\n        if (storedToken) {\n            setToken(storedToken);\n            fetchUser(storedToken);\n        } else {\n            setIsLoading(false);\n        }\n    }, []);\n\n    const fetchUser = async (authToken: string) => {\n        try {\n            const res = await fetch(\"http://localhost:8000/api/auth/me\", {\n                headers: { Authorization: `Bearer ${authToken}` },\n            });\n            if (res.ok) {\n                const userData = await res.json();\n                setUser(userData);\n            } else {\n                logout(); // Invalid token\n            }\n        } catch (error) {\n            console.error(\"Auth Error:\", error);\n            logout();\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const login = (newToken: string) => {\n        setIsLoading(true);\n        localStorage.setItem(\"access_token\", newToken);\n        setToken(newToken);\n        fetchUser(newToken);\n        router.push(\"/\");\n    };\n\n\n    const logout = () => {\n        localStorage.removeItem(\"access_token\");\n        setToken(null);\n        setUser(null);\n        router.push(\"/login\"); // Redirect to login\n    };\n\n    return (\n        <AuthContext.Provider value={{ user, token, login, logout, isLoading }}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAmBA,MAAM,4BAAc,IAAA,sRAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iRAAQ,EAAc;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iRAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iRAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+MAAS;IAExB,sBAAsB;IACtB,IAAA,kRAAS,EAAC;QACN,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACb,SAAS;YACT,UAAU;QACd,OAAO;YACH,aAAa;QACjB;IACJ,GAAG,EAAE;IAEL,MAAM,YAAY,OAAO;QACrB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,qCAAqC;gBACzD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,WAAW;gBAAC;YACpD;YACA,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,WAAW,MAAM,IAAI,IAAI;gBAC/B,QAAQ;YACZ,OAAO;gBACH,UAAU,gBAAgB;YAC9B;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,eAAe;YAC7B;QACJ,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,MAAM,QAAQ,CAAC;QACX,aAAa;QACb,aAAa,OAAO,CAAC,gBAAgB;QACrC,SAAS;QACT,UAAU;QACV,OAAO,IAAI,CAAC;IAChB;IAGA,MAAM,SAAS;QACX,aAAa,UAAU,CAAC;QACxB,SAAS;QACT,QAAQ;QACR,OAAO,IAAI,CAAC,WAAW,oBAAoB;IAC/C;IAEA,qBACI,8SAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAO;YAAQ;QAAU;kBAChE;;;;;;AAGb;AAEO,SAAS;IACZ,MAAM,UAAU,IAAA,mRAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}}]
}